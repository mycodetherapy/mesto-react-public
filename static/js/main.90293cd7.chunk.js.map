{"version":3,"sources":["images/logo.svg","images/close-icon-s.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","utils/constants.js","components/PopupRegisterTooltip.js","images/action-ok.png","images/action-err.png","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/WelcomeForm.js","utils/Auth.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","history","useHistory","className","src","logo","alt","exact","path","id","type","htmlFor","close","onClick","localStorage","removeItem","push","to","CurrentUserContext","React","createContext","Card","name","link","likes","card","onCardClick","onCardLike","onCardDelete","userData","useContext","isOwn","owner","_id","elementDeleteClassName","isLiked","some","i","elementLikeClassName","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","avatar","about","map","Footer","Date","getFullYear","ImagePopup","onClose","Boolean","JSON","stringify","tabIndex","api","config","_onError","res","ok","json","Promise","reject","status","getUserInfo","fetch","_url","method","headers","_headers","then","setUserInfo","data","body","getCards","addCard","removeCard","dataId","setAvatar","toggleLike","this","url","authorization","PopupRegisterTooltip","isOpen","message","PopupWithForm","title","buttonText","onSubmit","children","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","currentUser","useEffect","e","preventDefault","placeholder","minLength","maxLength","required","onChange","target","value","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","DeleteCardPopup","onDeleteCard","WelcomeForm","bottomLinkText","linkPuth","onEmail","onPassword","password","BASE_URL","Register","onRegister","onStatus","registerData","setRegisterData","response","catch","err","console","log","Auth","finally","withRouter","onLoggin","registerEmail","token","setItem","ProtectedRoute","Component","component","props","loggedIn","App","isLoggedIn","setIsLoggedIn","isPopupRegisterTooltip","setIsPopupRegisterTooltip","tooltipStatus","setTooltipStatus","tooltipText","setTooltipText","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","currentCard","setCurrentCard","selectedCard","setSelectedCard","setCurrentUser","setCards","viewEmail","setViewEmail","getItem","handleLoggin","all","cardsData","handleUpdateUserInfo","inputUserData","methodApi","outputUserData","closeAllPopups","Provider","methodFetchLike","newCard","state","c","inputCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.90293cd7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","export default __webpack_public_path__ + \"static/media/close-icon-s.622e8cda.svg\";","import logo from \"../images/logo.svg\";\r\nimport close from \"../images/close-icon-s.svg\"\r\nimport React from 'react';\r\nimport { Link, Route, useHistory } from 'react-router-dom';\r\n\r\nfunction Header({email}) {\r\n  const history = useHistory();\r\n\r\n  function signOut() {\r\n    localStorage.removeItem(\"token\");\r\n    history.push(\"/sign-in\");\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      \r\n      <img className=\"header__logo\" src={logo} alt=\"логотип\" />\r\n      <Route exact path={\"/\"}>\r\n        <input className=\"header__menu\" id=\"info-menu\" type=\"checkbox\" />\r\n        <label className=\"header__close-menu\" htmlFor=\"info-menu\">\r\n          <img\r\n            className=\"header__close-menu-image\"\r\n            src={close}\r\n            alt=\"Закрыть\"\r\n          />\r\n        </label>\r\n        <label className=\"header__menu-label\" htmlFor=\"info-menu\">\r\n          &#9776;\r\n        </label>\r\n\r\n        <div className=\"header__info\">\r\n          <p className=\"header__info-email\">{email}</p>\r\n          <button className=\"header__info-button\" onClick={signOut}>\r\n            Выйти\r\n          </button>\r\n        </div>\r\n      </Route>\r\n     \r\n      <Route path={\"/sign-up\"}>\r\n        <div className=\"header__info header__info_active\">\r\n          <Link to=\"sign-in\" className=\"header__info-link\">\r\n            Войти\r\n          </Link>\r\n        </div>\r\n      </Route>\r\n\r\n      <Route path={\"/sign-in\"}>\r\n        <div className=\"header__info header__info_active\">\r\n          <Link to=\"sign-up\" className=\"header__info-link\">\r\n            Регистрация\r\n          </Link>\r\n        </div>\r\n      </Route>\r\n\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport React from \"react\";\r\n\r\nfunction Card({name, link, likes, card, onCardClick, onCardLike, onCardDelete}) {\r\n  const userData = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === userData._id;\r\n  const elementDeleteClassName = `element__delete ${\r\n    isOwn ? \"element__delete_visible\" : \"element__delete_hidden\"\r\n  }`;\r\n\r\n  const isLiked = card.likes.some((i) => i._id === userData._id);\r\n\r\n  const elementLikeClassName = `element__like ${\r\n    isLiked && \"element__like_active\"\r\n  }`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button\r\n        className={elementDeleteClassName}\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <div className=\"element__image-container\">\r\n        <img\r\n          className=\"element__image\"\r\n          src={link}\r\n          alt={name}\r\n          onClick={handleClick}\r\n        />\r\n      </div>\r\n      <h2 className=\"element__title\">{name}</h2>\r\n      <div className=\"element__like-container\">\r\n        <button\r\n          className={elementLikeClassName}\r\n          type=\"submit\"\r\n          onClick={handleLikeClick}\r\n        ></button>\r\n        <div className=\"element__like-counter\">{likes.length}</div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({\r\n  cards,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const userData = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <img className=\"profile__avatar\" src={userData.avatar} alt=\"аватар\" />\r\n        <div className=\"profile__hidden-avatar\" onClick={onEditAvatar}></div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{userData.name}</h1>\r\n          <button\r\n            className=\"profile__button\"\r\n            type=\"button\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n          <p className=\"profile__subtitle\">{userData.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__button-add\"\r\n          type=\"button\"\r\n          aria-label=\"добавить_элемент\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__grid-container\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              key={card._id}\r\n              name={card.name}\r\n              link={card.link}\r\n              likes={card.likes}\r\n              card={card}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n    return(\r\n        <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&#169; {`${new Date().getFullYear()} Mesto Rusia`}</p>\r\n      </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","function ImagePopup({card, onClose}) {\r\n  \r\nconst isCard = Boolean(JSON.stringify(card) ==='{}');\r\nconst className = !isCard && \"popup_opened\";\r\n\r\n    return(\r\n        <div className={`popup popup_type_image ${className}`}>\r\n        <figure\r\n          className=\"popup__container popup__container-for-image\"\r\n          tabIndex=\"0\"\r\n        >\r\n          <button className=\"popup__close\" type=\"button\" onClick={onClose}></button>\r\n          <img\r\n            className=\"popup__element-image\"\r\n            src={card.link}\r\n            alt={card.name}\r\n          />\r\n          <figcaption className=\"popup__image-caption\">{card.name}</figcaption>\r\n        </figure>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","import { configApi } from \"./constants\"\r\n\r\n class Api {\r\n  constructor(config) {\r\n    this._url = config.url;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  _onError = (res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo = () => {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._onError);\r\n  };\r\n\r\n  setUserInfo = (data) => {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._onError);\r\n  };\r\n\r\n  getCards = () => {\r\n    return fetch(`${this._url}cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._onError);\r\n  };\r\n\r\n  addCard = (data) => {\r\n    return fetch(`${this._url}cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._onError);\r\n  };\r\n\r\n  removeCard = (dataId) => {\r\n    return fetch(`${this._url}cards/${dataId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._onError);\r\n  };\r\n\r\n  setUserInfo = (userData) => {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(userData),\r\n    }).then(this._onError);\r\n  };\r\n\r\n  setAvatar = (avatar) => {\r\n    return fetch(`${this._url}users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(avatar),\r\n    }).then(this._onError);\r\n  };\r\n\r\n  toggleLike = (method, dataId) => {\r\n    return fetch(`${this._url}cards/likes/${dataId}`, {\r\n      method: method,\r\n      headers: this._headers,\r\n    }).then(this._onError);\r\n  };\r\n}\r\n\r\nconst api = new Api(configApi);\r\nexport default api;\r\n","\r\nexport const configApi = {\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-30/\",\r\n  headers: {\r\n    authorization: \"c5a5cb5f-db7e-4ac2-924a-a6deb50d8693\",\r\n    \"content-type\": \"application/json\",\r\n  },\r\n};","import React from \"react\";\r\nimport statusOk from \"../images/action-ok.png\";\r\nimport statusErr from \"../images/action-err.png\";\r\n\r\nfunction PopupRegisterTooltip({isOpen, onClose, status, message}) {\r\n    const className = isOpen && \"popup_opened\";\r\n  return (\r\n    <div className={`popup ${className}`}>\r\n      <div className=\"popup__container\" tabIndex=\"0\">\r\n        <button\r\n          className=\"popup__close\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        ></button>\r\n        {status === \"success\" ? \r\n        <div> \r\n          <img className=\"popup__status-image\" src={statusOk} alt=\"Действие-успешно\"></img>\r\n          <p className=\"popup__status-text\">{message}</p>\r\n        </div>\r\n        :\r\n        <div> \r\n          <img className=\"popup__status-image\" src={statusErr} alt=\"Действие-ошибка\"></img>\r\n          <p className=\"popup__status-text\">{message}</p>\r\n        </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupRegisterTooltip;\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","function PopupWithForm({\r\n  name,\r\n  title,\r\n  buttonText,\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  children,\r\n}) {\r\n  const className = isOpen && \"popup_opened\";\r\n\r\n  return (\r\n    <div className={`popup ${className}`}>\r\n      <div className=\"popup__container\" tabIndex=\"0\">\r\n        <button\r\n          className=\"popup__close\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <form name={name} className=\"form\" onSubmit={onSubmit} noValidate>\r\n          <fieldset className=\"form__input-container\">\r\n            <h2 className=\"form__title\">{title}</h2>\r\n            <>{children}</>\r\n          </fieldset>\r\n          <button className=\"form__button-save\" type=\"submit\">\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [isOpen, currentUser]);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleAboutChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    }, \"setUserInfo\");\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"form__field\">\r\n        <input\r\n          name=\"name\"\r\n          type=\"text\"\r\n          className=\"form__input form__input_type_name\"\r\n          id=\"profile-input-name\"\r\n          placeholder=\"Введите имя\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          required\r\n          onChange={handleNameChange}\r\n          value={name || \"\"}\r\n        />\r\n        <span className=\"form__input-error profile-input-name-error\"></span>\r\n      </label>\r\n      <label className=\"form__field\">\r\n        <input\r\n          name=\"about\"\r\n          type=\"text\"\r\n          className=\"form__input form__input_type_profession\"\r\n          id=\"profile-input-profession\"\r\n          placeholder=\"Коротко осебе\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          required\r\n          onChange={handleAboutChange}\r\n          value={description || \"\"}\r\n        />\r\n        <span className=\"form__input-error profile-input-profession-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n    let avatarRef = React.useRef(null); \r\n\r\n    React.useEffect(() => {\r\n      avatarRef.current.value = null;\r\n   }, [isOpen]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n      \r\n        onUpdateAvatar({\r\n          avatar: avatarRef.current.value\r\n        }, \"setAvatar\");\r\n      } \r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"form__field\">\r\n        <input\r\n          ref={avatarRef}\r\n          name=\"avatar\"\r\n          type=\"url\"\r\n          className=\"form__input form__input_type_avatar\"\r\n          placeholder=\"Ссылка на аватар\"\r\n          id=\"profile-input-avatar\"\r\n          required\r\n        />\r\n        <span className=\"form__input-error profile-input-avatar-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({onAddPlace, isOpen, onClose}) {\r\n    const [name, setName] = React.useState(\"\");\r\n    const [link, setLink] = React.useState(\"\");\r\n    \r\n    function handleNameChange(e) {\r\n      setName(e.target.value);\r\n    }\r\n\r\n    function handleLinkChange(e) {\r\n      setLink(e.target.value);\r\n    }\r\n\r\n    function handleAddPlaceSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({name, link});\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(\"\");\r\n        setLink(\"\"); \r\n     }, [isOpen]);\r\n\r\n    return(\r\n        <PopupWithForm\r\n            name=\"creat-element\"\r\n            title=\"Новое место\"\r\n            buttonText=\"Сохранить\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleAddPlaceSubmit}\r\n          >\r\n            <label className=\"form__field\">\r\n              <input\r\n                name=\"name\"\r\n                type=\"text\"\r\n                className=\"form__input form__input_type_place\"\r\n                placeholder=\"Название\"\r\n                id=\"input-place\"\r\n                minLength=\"2\"\r\n                maxLength=\"30\"\r\n                required\r\n                onChange={handleNameChange}\r\n                value={name}\r\n              />\r\n              <span className=\"form__input-error input-place-error\"></span>\r\n            </label>\r\n            <label className=\"form__field\">\r\n              <input\r\n                name=\"link\"\r\n                type=\"url\"\r\n                className=\"form__input form__input_type_place-link\"\r\n                placeholder=\"Ссылка на картинку\"\r\n                id=\"input-place-link\"\r\n                required\r\n                onChange={handleLinkChange}\r\n                value={link}\r\n              />\r\n              <span className=\"form__input-error input-place-link-error\"></span>\r\n            </label>\r\n          </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction DeleteCardPopup({ isOpen, onClose, onDeleteCard }) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeleteCard();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"delete-element\"\r\n      title=\"Вы уверены?\"\r\n      buttonText=\"Да\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default DeleteCardPopup;\r\n","import React from \"react\";\r\nimport { Link, Route } from 'react-router-dom';\r\n\r\nfunction WelcomeForm({\r\n  name,\r\n  title,\r\n  buttonText,\r\n  bottomLinkText,\r\n  linkPuth,\r\n  onSubmit,\r\n  onEmail,\r\n  onPassword,\r\n  password,\r\n  email,\r\n}) {\r\n  return (\r\n    <div className=\"welcome\">\r\n      <form\r\n        name={name}\r\n        className=\"welcome__form\"\r\n        onSubmit={onSubmit}\r\n        noValidate\r\n      >\r\n        <fieldset className=\"welcome__input-container\">\r\n          <h2 className=\"welcome__title\">{title}</h2>\r\n          <label className=\"welcome__label\" htmlFor=\"username\">\r\n            <input\r\n              className=\"welcome__input\"\r\n              id=\"username\"\r\n              name=\"username\"\r\n              type=\"text\"\r\n              placeholder=\"Email\"\r\n              onChange={onEmail}\r\n              value={email || \"\"}\r\n            ></input>\r\n          </label>\r\n          <label className=\"welcome__label\" htmlFor=\"password\">\r\n            <input\r\n              className=\"welcome__input\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"Пароль\"\r\n              onChange={onPassword}\r\n              value={password}\r\n            ></input>\r\n          </label>\r\n        </fieldset>\r\n        <button className=\"welcome__button\" type=\"submit\">\r\n          {buttonText}\r\n        </button>\r\n        <Route path={\"/sign-up\"}>\r\n          <Link to=\"sign-in\" className=\"welcome__link-bottom\">\r\n            {bottomLinkText}\r\n          </Link>\r\n        </Route>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WelcomeForm;\r\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ password: password, email: email }),\r\n  })\r\n    .then((response) => {\r\n      try {\r\n        if (response.status === 201) {\r\n          return response.json();\r\n        }\r\n      } catch (e) {\r\n        return e;\r\n      }\r\n    })\r\n    .then((res) => {\r\n      return res;\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const authorization = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ password: password, email: email }),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      if (data.token) {\r\n        localStorage.setItem(\"token\", data.token);\r\n        return data;\r\n      }\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(res => res.json())\r\n    .catch((err) => console.log(err))\r\n  }","import React from \"react\";\r\nimport WelcomeForm from \"./WelcomeForm\";\r\nimport * as Auth from \"../utils/Auth\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nfunction Register({ onRegister, onStatus }) {\r\n  const [registerData, setRegisterData] = React.useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const history = useHistory();\r\n\r\n  function handleEmailChange(e) {\r\n    setRegisterData({ ...registerData, email: e.target.value });\r\n  }\r\n\r\n  function handlePasswordChange(e) {\r\n    setRegisterData({ ...registerData, password: e.target.value });\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const { email, password } = registerData;\r\n    Auth.register(password, email)\r\n      .then((res) => {\r\n        if (res) {\r\n          onStatus();\r\n          history.push(\"/sign-in\");\r\n        } else {\r\n          console.log(\"Что-то пошло не так!\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => {\r\n        onRegister();\r\n      });\r\n  }\r\n\r\n  return (\r\n    <WelcomeForm\r\n      name=\"register-form\"\r\n      title=\"Регистрация\"\r\n      buttonText=\"Зарегистрироваться\"\r\n      bottomLinkText=\"Уже зарегистрированы? Войти\"\r\n      linkPuth=\"/#/sign-in\"\r\n      onEmail={handleEmailChange}\r\n      onPassword={handlePasswordChange}\r\n      onSubmit={handleSubmit}\r\n      password={registerData.password}\r\n      email={registerData.email}\r\n    ></WelcomeForm>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport WelcomeForm from \"./WelcomeForm\";\r\nimport * as Auth from \"../utils/Auth\";\r\nimport { useHistory } from \"react-router\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction Login({onLoggin, registerEmail}) {\r\n  const [registerData, setRegisterData] = React.useState({email: \"\", password: \"\"});\r\n  const history = useHistory();\r\n\r\n  function handleEmailChange(e) {\r\n    setRegisterData({...registerData, email: e.target.value});\r\n  }\r\n\r\n  function handlePasswordChange(e) {\r\n    setRegisterData({...registerData, password: e.target.value});\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const {email, password} = registerData;\r\n    Auth.authorization(password, email).then((data) => {\r\n      if (data) {\r\n        onLoggin();\r\n        registerEmail(email);\r\n        history.push(\"/\");\r\n      } else {\r\n        console.log(\"Что-то пошло не так!\");\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <WelcomeForm\r\n      name=\"login-form\"\r\n      title=\"Вход\"\r\n      buttonText=\"Войти\"\r\n      bottomLinkText=\"\"\r\n      onEmail={handleEmailChange}\r\n      onPassword={handlePasswordChange}\r\n      onSubmit={handleSubmit}\r\n      password={registerData.password}\r\n      email={registerData.email}\r\n    ></WelcomeForm>\r\n  );\r\n}\r\n\r\nexport default withRouter(Login);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n      <Route>\r\n        {() =>\r\n          props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n        }\r\n      </Route>\r\n    );\r\n  };\r\n  \r\n  export default ProtectedRoute; ","import Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/Api.js\";\r\nimport React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport PopupRegisterTooltip from \"./PopupRegisterTooltip\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport DeleteCardPopup from \"./DeleteCardPopup\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router\";\r\nimport Register from \"./Register\";\r\nimport Login from \"./Login\";\r\nimport * as Auth from \"../utils/Auth\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\n\r\nfunction App() {\r\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\r\n  const [isPopupRegisterTooltip, setIsPopupRegisterTooltip] =\r\n    React.useState(false);\r\n  const [tooltipStatus, setTooltipStatus] = React.useState(\"\");\r\n  const [tooltipText, setTooltipText] = React.useState(\"Что-то пошло не так! Попробуйте еще раз.\");\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\r\n    React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\r\n    React.useState(false);\r\n\r\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] =\r\n    React.useState(false);\r\n  const [currentCard, setCurrentCard] = React.useState({});\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const history = useHistory();\r\n  const [viewEmail, setViewEmail] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    token &&\r\n      Auth.getContent(token).then((registerData) => {\r\n        tokenCheck(registerData);\r\n      });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (isLoggedIn) {\r\n      Promise.all([api.getUserInfo(), api.getCards()])\r\n        .then(([userData, cardsData]) => {\r\n          setCurrentUser(userData);\r\n          setCards(cardsData);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [isLoggedIn]);\r\n\r\n  const handleLoggin = () => {\r\n    setIsLoggedIn(true);\r\n  };\r\n\r\n  const HandleRegisterEmail = (email) => {\r\n    setViewEmail(email);\r\n  };\r\n\r\n  function tokenCheck(res) {\r\n    if (res) {\r\n      setViewEmail(res.data.email);\r\n      handleLoggin();\r\n      history.push(\"/\");\r\n    }\r\n  }\r\n\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    const methodFetchLike = isLiked ? \"DELETE\" : \"PUT\";\r\n    api\r\n      .toggleLike(methodFetchLike, card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleCardDelete = () => {\r\n    api\r\n      .removeCard(currentCard._id)\r\n      .then(() => {\r\n        setCards((state) =>\r\n          state.filter((c) => c._id !== currentCard._id && c)\r\n        );\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleUpdateUserInfo = (inputUserData, methodApi) => {\r\n    api[methodApi](inputUserData)\r\n      .then((outputUserData) => {\r\n        setCurrentUser(outputUserData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleSubmitAddPlace = (inputCard) => {\r\n    api\r\n      .addCard(inputCard)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  };\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleDeleteCardClick = (card) => {\r\n    setCurrentCard(card);\r\n    setIsDeleteCardPopupOpen(true);\r\n  };\r\n\r\n  const handleRegisterAction = () => {\r\n    setIsPopupRegisterTooltip(true);\r\n  };\r\n\r\n  const handleTooltipStatus = () => {\r\n    setTooltipStatus(\"success\");\r\n    setTooltipText(\"Вы успешно зарегистрировались!\");\r\n  };\r\n\r\n  const closeAllPopups = () => {\r\n    setIsPopupRegisterTooltip(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsDeleteCardPopupOpen(false);\r\n    setSelectedCard({});\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"common\">\r\n        <div className=\"page\">\r\n          <Header email={viewEmail} />\r\n\r\n          <Switch>\r\n            <Route path=\"/sign-up\">\r\n              <Register\r\n                onRegister={handleRegisterAction}\r\n                onStatus={handleTooltipStatus}\r\n              />\r\n            </Route>\r\n\r\n            <Route path=\"/sign-in\">\r\n              <Login\r\n                onLoggin={handleLoggin}\r\n                registerEmail={HandleRegisterEmail}\r\n              />\r\n            </Route>\r\n\r\n            <ProtectedRoute\r\n              path=\"/\"\r\n              loggedIn={isLoggedIn}\r\n              component={Main}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onCardClick={handleCardClick}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleDeleteCardClick}\r\n            />\r\n\r\n            <Route>\r\n              {!isLoggedIn ? (\r\n                <Redirect to=\"/\"></Redirect>\r\n              ) : (\r\n                <Redirect to=\"/sign-in\"></Redirect>\r\n              )}\r\n            </Route>\r\n          </Switch>\r\n\r\n          {isLoggedIn && <Footer />}\r\n\r\n          <PopupRegisterTooltip\r\n            isOpen={isPopupRegisterTooltip}\r\n            onClose={closeAllPopups}\r\n            status={tooltipStatus}\r\n            message={tooltipText}\r\n          />\r\n\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUserInfo}\r\n          />\r\n\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleSubmitAddPlace}\r\n          />\r\n\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateUserInfo}\r\n          />\r\n\r\n          <DeleteCardPopup\r\n            isOpen={isDeleteCardPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onDeleteCard={handleCardDelete}\r\n          />\r\n\r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n//import { BrowserRouter } from 'react-router-dom';\r\nimport { HashRouter } from 'react-router-dom'; //Use HashRouter for hosting GitHub.\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter> \r\n      <App />\r\n    </HashRouter> \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}